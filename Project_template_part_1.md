Это шаблон для решения **первой части** проектной работы. Структура этого файла повторяет структуру заданий. Заполняйте его по мере работы над решением.

# Задание 1. Анализ и планирование

Чтобы составить документ с описанием текущей архитектуры приложения, можно часть информации взять из описания компании условия задания. Это нормально.

### 1. Описание функциональности монолитного приложения

**Управление отоплением:**

- Пользователи могут
    - Удёлённо включать/выключать отопление
    - Задавать желаемую температуру
- Система поддерживает
    - Автоматическое регулирование для поддержания заданной температуры
    - Добавление новых реле (с помощью инженера)


**Мониторинг температуры:**

- Пользователи могут
    - Просматривать текущую температуру через WEB-приложение
- Система поддерживает
    - Получение температуры с установленных датчиков
    - Добавление новых датчиков (с помощью инженера)

### 2. Анализ архитектуры монолитного приложения

- ЯП: Java
- СУБД: PostgreSQL
- Взаимодействие: Через WEB-интрефейс **синхронно** запросы отправляются на сервер, который в свою очередь обращается к датчикам за информацией или задаёт настройки реле.
- Архитектура: монолитное приложение (ограничение масштабирования).
- Возможности развёртывания: ограничено, необходимо полностью останавливать приложение.
- У приложения 100 веб-клиентов, к системе подключены 100 модулей управления отоплением.

### 3. Определение доменов и границы контекстов

1. Auth – аутетификация и авторизация, а также управление ролями.
2. Devices Control – управление устройствами умного дома: подлючение/отключение, настройка устройств (выкл/выкл, задать температуру и т.д.).
3. Automation* – автоматизация некоторых процессов, например: включать отопление только в определённое время.
4. Monitoring – сбор информации данных с устройств (пример: температура с датчиков, состояние датчиков), составление статистики.
5. Notification* – управление уведомлениями: куда отправлять уведомление, какие уведомления отправлять.

\* – Дополнительный домен, которого может и не быть в текущем решении.

### **4. Проблемы монолитного решения**

1. Масштабирование – сложно масштабировать как аппаратно, так и функционально.
    - Аппаратное – железо выделяется на весь функционал, а не только на тот, что сильно нагружается.
    - Функциональное – при разрастании функционала, внесение изменение может вызвать множество проблем и пояление новых багов.
2. Развёртываение –  при обновлении части функционала, необходимо останавливать всё приложение и полностью его развёртывать.
3. Отказоустойчивость – в случае наруение работы одного функционала, приложение упадёт полностью.

Если вы считаете, что текущее решение не вызывает проблем, аргументируйте свою позицию.

Текущее решение (монолит) может быть оправданно, если проект был реализован как PoC или является малым стартапом, у которого на начало разработки не было достаточных финансовых возможностей.

### 5. Визуализация контекста системы — диаграмма С4

Добавьте сюда диаграмму контекста в модели C4.

Диаграмма в репозитории: [C4_CONTEXT.puml](C4_CONTEXT.puml).

# Задание 2. Проектирование микросервисной архитектуры

**Диаграмма контейнеров (Containers)**

Указано только самое основное. Также можно было где-то добавить Redis для кэширования или хранение временных токенов достпа, где-то добавить связять через Kafka, например для различных уведомлений.

Сервис Auth - это не только аутентификация и авторизация, но и ведение профилей. Объедено что-бы не награмождать сейчас схему и ускорить выполнение задачи.

Также, можно было управление устройствами разделить на отдельные сервисы по типам устройств, если какие-то из них имеют слишком специфичную работу. Но считаем, что устройства максимально просты и не будут приносить проблем с тем, что работа со всеми видами устройств ведётся в одном сервисе.

Диаграмма в репозитории: [C4_CONTAINERS.puml](C4_CONTAINERS.puml).

**Диаграмма компонентов (Components)**

Описаны основные поддомены, которые присутствуют в сервисе.

Диаграмма в репозитории: [C4_COMPONENTS.puml](C4_COMPONENTS.puml).


**Диаграмма кода (Code)**

Для примера привёл просто добавление нового устроства, порядок действия для этого. С методами не стал грамоздить, показал только основной поток, без различных отклонений.

Диаграмма в репозитории: [C4_CODE.puml](C4_CODE.puml).

# Задание 3. Разработка ER-диаграммы

Диаграмма в репозитории: [ERD.puml](ERD.puml).